Writing ëª¨ë“ˆì˜ Phase 2ë¥¼ ê°œë°œí•´ì¤˜.

=== Writing Phase 2: AI ì²¨ì‚­ ì‹œìŠ¤í…œ ===

ì´ë²ˆ ë‹¨ê³„ì—ì„œëŠ” GPT-4ë¥¼ ì‚¬ìš©í•´ì„œ:
1. ì œì¶œëœ ê¸€ì„ ë¶„ì„
2. ë¬¸ë²• ì˜¤ë¥˜ ì°¾ê¸°
3. ê°œì„  ì œì•ˆí•˜ê¸°
4. êµì •ëœ ê¸€ ìƒì„±
5. ì ìˆ˜ ê³„ì‚°
6. í”¼ë“œë°± ì œê³µ

ì¤‘ìš”: OpenAI API í‚¤ëŠ” í™˜ê²½ë³€ìˆ˜ OPENAI_API_KEYë¡œ ì„¤ì •ë˜ì–´ ìˆì–´ì•¼ í•¨.

=== 1. AI ì²¨ì‚­ API ì—”ë“œí¬ì¸íŠ¸ ===

app/api/writing/feedback/route.ts ìƒì„±:
```tsx
import { createRouteHandlerClient } from '@supabase/auth-helpers-nextjs'
import { cookies } from 'next/headers'
import { NextResponse } from 'next/server'
import OpenAI from 'openai'

const openai = new OpenAI({
  apiKey: process.env.OPENAI_API_KEY
})

export async function POST(req: Request) {
  try {
    const supabase = createRouteHandlerClient({ cookies })
    
    const {
      data: { session },
    } = await supabase.auth.getSession()

    if (!session) {
      return NextResponse.json(
        { error: 'Unauthorized' },
        { status: 401 }
      )
    }

    const { submissionId, content, prompt } = await req.json()

    // GPT-4ì—ê²Œ ì²¨ì‚­ ìš”ì²­
    const completion = await openai.chat.completions.create({
      model: "gpt-4o",
      messages: [
        {
          role: "system",
          content: `You are an expert English writing tutor. Analyze the student's writing and provide detailed feedback in JSON format.

Your response must be a valid JSON object with this exact structure:
{
  "score": <number 0-100>,
  "grammar_errors": [
    {
      "original": "<incorrect text>",
      "corrected": "<corrected text>",
      "explanation": "<why it's wrong and how to fix it>",
      "type": "<error type: grammar/spelling/punctuation>"
    }
  ],
  "suggestions": [
    {
      "category": "<vocabulary/structure/clarity/style>",
      "issue": "<what needs improvement>",
      "suggestion": "<specific suggestion>",
      "example": "<example of improved version>"
    }
  ],
  "corrected_content": "<fully corrected version of the text>",
  "strengths": ["<strength 1>", "<strength 2>", ...],
  "areas_for_improvement": ["<area 1>", "<area 2>", ...],
  "overall_feedback": "<2-3 sentences of encouraging overall feedback>"
}

Scoring guidelines:
- 90-100: Excellent - Very few errors, clear and natural expression
- 80-89: Good - Minor errors, generally clear communication
- 70-79: Satisfactory - Some errors but message is understandable
- 60-69: Needs improvement - Multiple errors affecting clarity
- Below 60: Significant revision needed

Be encouraging and constructive. Focus on helping the student improve.`
        },
        {
          role: "user",
          content: `Please analyze this writing:

Writing Prompt: ${prompt}

Student's Writing:
${content}

Provide detailed feedback in JSON format as specified.`
        }
      ],
      temperature: 0.7,
      response_format: { type: "json_object" }
    })

    const feedbackText = completion.choices[0].message.content
    if (!feedbackText) {
      throw new Error('No feedback received from AI')
    }

    const feedback = JSON.parse(feedbackText)

    // ë°ì´í„°ë² ì´ìŠ¤ ì—…ë°ì´íŠ¸
    const { error: updateError } = await supabase
      .from('writing_submissions')
      .update({
        ai_score: feedback.score,
        grammar_errors: feedback.grammar_errors,
        suggestions: feedback.suggestions,
        corrected_content: feedback.corrected_content,
        feedback_summary: feedback.overall_feedback
      })
      .eq('id', submissionId)

    if (updateError) throw updateError

    // XP ì¶”ê°€ ì ë¦½ (ì²¨ì‚­ ë°›ìœ¼ë©´ ë³´ë„ˆìŠ¤)
    const bonusXp = Math.floor(feedback.score / 10)
    await fetch(`${process.env.NEXT_PUBLIC_BASE_URL}/api/gamification/xp`, {
      method: 'POST',
      headers: { 
        'Content-Type': 'application/json',
        'Cookie': req.headers.get('cookie') || ''
      },
      body: JSON.stringify({
        amount: bonusXp,
        source: 'writing_feedback'
      })
    })

    return NextResponse.json({
      success: true,
      feedback: {
        score: feedback.score,
        grammarErrors: feedback.grammar_errors,
        suggestions: feedback.suggestions,
        correctedContent: feedback.corrected_content,
        strengths: feedback.strengths,
        areasForImprovement: feedback.areas_for_improvement,
        overallFeedback: feedback.overall_feedback
      }
    })

  } catch (error) {
    console.error('AI feedback error:', error)
    return NextResponse.json(
      { error: 'Failed to get AI feedback' },
      { status: 500 }
    )
  }
}
```

=== 2. ê¸€ì“°ê¸° í˜ì´ì§€ ìˆ˜ì • (AI ì²¨ì‚­ ì—°ë™) ===

app/learn/writing/[id]/page.tsxë¥¼ ìˆ˜ì •í•´ì„œ ì œì¶œ í›„ AI ì²¨ì‚­ ë°›ë„ë¡:

ê¸°ì¡´ handleSubmit í•¨ìˆ˜ë¥¼ ë‹¤ìŒê³¼ ê°™ì´ ìˆ˜ì •:
```tsx
const handleSubmit = async () => {
  if (!topic || !isWithinRange) return
  
  setSubmitting(true)
  
  try {
    // 1. ê¸€ ì œì¶œ
    const submitResponse = await fetch('/api/writing/submit', {
      method: 'POST',
      headers: { 'Content-Type': 'application/json' },
      body: JSON.stringify({
        topicId: topic.id,
        content: content,
        wordCount: wordCount
      })
    })
    
    if (!submitResponse.ok) throw new Error('Failed to submit')
    
    const submitData = await submitResponse.json()
    const submissionId = submitData.data.id
    
    // 2. AI ì²¨ì‚­ ìš”ì²­
    const feedbackResponse = await fetch('/api/writing/feedback', {
      method: 'POST',
      headers: { 'Content-Type': 'application/json' },
      body: JSON.stringify({
        submissionId: submissionId,
        content: content,
        prompt: topic.prompt
      })
    })
    
    if (!feedbackResponse.ok) throw new Error('Failed to get feedback')
    
    const feedbackData = await feedbackResponse.json()
    
    // 3. í”¼ë“œë°± í˜ì´ì§€ë¡œ ì´ë™
    router.push(`/learn/writing/feedback/${submissionId}`)
    
  } catch (error) {
    console.error('Submit error:', error)
    alert('ì œì¶œì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤. ë‹¤ì‹œ ì‹œë„í•´ì£¼ì„¸ìš”.')
  } finally {
    setSubmitting(false)
  }
}
```

ì œì¶œ ë²„íŠ¼ í…ìŠ¤íŠ¸ë„ ìˆ˜ì •:
```tsx
<button
  onClick={handleSubmit}
  disabled={!content.trim() || !isWithinRange || submitting}
  className="px-8 py-4 bg-green-600 text-white rounded-xl hover:bg-green-700 font-semibold text-lg shadow-lg hover:shadow-xl transition-all disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-3"
>
  {submitting ? (
    <>
      <div className="animate-spin rounded-full h-5 w-5 border-b-2 border-white" />
      AI ì²¨ì‚­ ì¤‘...
    </>
  ) : (
    <>
      <Send className="w-5 h-5" />
      ì œì¶œí•˜ê³  AI ì²¨ì‚­ ë°›ê¸°
    </>
  )}
</button>
```

=== 3. AI í”¼ë“œë°± í˜ì´ì§€ ===

app/learn/writing/feedback/[id]/page.tsx ìƒì„±:
```tsx
'use client'

import { useEffect, useState } from 'react'
import { useParams, useRouter } from 'next/navigation'
import { 
  ArrowLeft, 
  Award, 
  CheckCircle, 
  AlertCircle,
  Lightbulb,
  ThumbsUp,
  TrendingUp
} from 'lucide-react'
import Link from 'next/link'

interface GrammarError {
  original: string
  corrected: string
  explanation: string
  type: string
}

interface Suggestion {
  category: string
  issue: string
  suggestion: string
  example: string
}

interface Feedback {
  score: number
  grammarErrors: GrammarError[]
  suggestions: Suggestion[]
  correctedContent: string
  strengths: string[]
  areasForImprovement: string[]
  overallFeedback: string
}

interface Submission {
  id: string
  content: string
  word_count: number
  topic_title: string
  topic_prompt: string
}

export default function FeedbackPage() {
  const params = useParams()
  const router = useRouter()
  const [submission, setSubmission] = useState<Submission | null>(null)
  const [feedback, setFeedback] = useState<Feedback | null>(null)
  const [loading, setLoading] = useState(true)
  const [showCorrected, setShowCorrected] = useState(false)
  
  useEffect(() => {
    if (params.id) {
      fetchFeedback(params.id as string)
    }
  }, [params.id])
  
  const fetchFeedback = async (id: string) => {
    try {
      const response = await fetch(`/api/writing/submission/${id}`)
      const data = await response.json()
      
      setSubmission({
        id: data.submission.id,
        content: data.submission.content,
        word_count: data.submission.word_count,
        topic_title: data.submission.writing_topics.title,
        topic_prompt: data.submission.writing_topics.prompt
      })
      
      if (data.submission.ai_score) {
        setFeedback({
          score: data.submission.ai_score,
          grammarErrors: data.submission.grammar_errors || [],
          suggestions: data.submission.suggestions || [],
          correctedContent: data.submission.corrected_content || '',
          strengths: [],
          areasForImprovement: [],
          overallFeedback: data.submission.feedback_summary || ''
        })
      }
    } catch (error) {
      console.error('Failed to fetch feedback:', error)
    } finally {
      setLoading(false)
    }
  }
  
  if (loading) {
    return (
      <div className="flex flex-col items-center justify-center h-screen">
        <div className="animate-spin rounded-full h-12 w-12 border-b-2 border-green-600 mb-4" />
        <p className="text-gray-600">AIê°€ ì²¨ì‚­ ì¤‘ì…ë‹ˆë‹¤...</p>
      </div>
    )
  }
  
  if (!submission || !feedback) {
    return (
      <div className="flex flex-col items-center justify-center h-screen">
        <p className="text-gray-600 mb-4">í”¼ë“œë°±ì„ ì°¾ì„ ìˆ˜ ì—†ì–´ìš”</p>
        <Link
          href="/learn/writing"
          className="px-6 py-3 bg-green-600 text-white rounded-lg hover:bg-green-700"
        >
          ëª©ë¡ìœ¼ë¡œ ëŒì•„ê°€ê¸°
        </Link>
      </div>
    )
  }
  
  const scoreColor = 
    feedback.score >= 90 ? 'text-green-600' :
    feedback.score >= 80 ? 'text-blue-600' :
    feedback.score >= 70 ? 'text-yellow-600' :
    feedback.score >= 60 ? 'text-orange-600' : 'text-red-600'
  
  const scoreEmoji = 
    feedback.score >= 90 ? 'ğŸ†' :
    feedback.score >= 80 ? 'â­' :
    feedback.score >= 70 ? 'ğŸ’¡' :
    feedback.score >= 60 ? 'ğŸ“–' : 'ğŸ’ª'
  
  return (
    <div className="max-w-5xl mx-auto p-6">
      {/* í—¤ë” */}
      <div className="mb-6">
        <Link
          href="/learn/writing/my-writings"
          className="inline-flex items-center gap-2 text-green-600 hover:text-green-700 mb-4"
        >
          <ArrowLeft className="w-4 h-4" />
          ë‚´ê°€ ì“´ ê¸€ ëª©ë¡
        </Link>
        
        <div className="bg-white rounded-xl border border-gray-200 p-6">
          <h1 className="text-2xl font-bold text-gray-900 mb-2">
            {submission.topic_title}
          </h1>
          <p className="text-sm text-gray-600">{submission.topic_prompt}</p>
        </div>
      </div>
      
      {/* ì ìˆ˜ */}
      <div className="bg-white rounded-xl border border-gray-200 p-8 mb-6">
        <div className="text-center">
          <div className="text-6xl mb-4">{scoreEmoji}</div>
          <div className={`text-5xl font-bold mb-2 ${scoreColor}`}>
            {feedback.score}ì 
          </div>
          <p className="text-gray-600 mb-6">
            {feedback.score >= 90 ? 'Excellent! í›Œë¥­í•´ìš”!' :
             feedback.score >= 80 ? 'Good! ì˜í–ˆì–´ìš”!' :
             feedback.score >= 70 ? 'Satisfactory. ê´œì°®ì•„ìš”!' :
             feedback.score >= 60 ? 'Needs improvement. ì¡°ê¸ˆ ë” ë…¸ë ¥í•´ë´ìš”!' :
             'Keep practicing! ê³„ì† ì—°ìŠµí•˜ë©´ ì˜í•˜ê²Œ ë  ê±°ì˜ˆìš”!'}
          </p>
          
          {feedback.overallFeedback && (
            <div className="bg-blue-50 border border-blue-200 rounded-lg p-4 max-w-2xl mx-auto">
              <p className="text-sm text-blue-900">{feedback.overallFeedback}</p>
            </div>
          )}
        </div>
      </div>
      
      {/* ì›ë³¸ vs êµì •ë³¸ */}
      <div className="bg-white rounded-xl border border-gray-200 p-6 mb-6">
        <div className="flex items-center justify-between mb-4">
          <h2 className="text-xl font-bold text-gray-900">ë‚´ê°€ ì“´ ê¸€</h2>
          <button
            onClick={() => setShowCorrected(!showCorrected)}
            className={`px-4 py-2 text-sm rounded-lg transition-colors ${
              showCorrected
                ? 'bg-green-600 text-white'
                : 'bg-gray-100 text-gray-700 hover:bg-gray-200'
            }`}
          >
            {showCorrected ? 'ì›ë³¸ ë³´ê¸°' : 'êµì •ë³¸ ë³´ê¸°'}
          </button>
        </div>
        
        <div className="bg-gray-50 rounded-lg p-6 border border-gray-200">
          <p className="text-gray-800 leading-relaxed whitespace-pre-wrap">
            {showCorrected ? feedback.correctedContent : submission.content}
          </p>
        </div>
        
        {showCorrected && (
          <div className="mt-3 text-sm text-gray-500">
            ğŸ’¡ ì´ê²ƒì€ AIê°€ êµì •í•œ ë²„ì „ì…ë‹ˆë‹¤. ì›ë³¸ê³¼ ë¹„êµí•´ë³´ì„¸ìš”!
          </div>
        )}
      </div>
      
      {/* ë¬¸ë²• ì˜¤ë¥˜ */}
      {feedback.grammarErrors.length > 0 && (
        <div className="bg-white rounded-xl border border-gray-200 p-6 mb-6">
          <div className="flex items-center gap-2 mb-4">
            <AlertCircle className="w-6 h-6 text-red-600" />
            <h2 className="text-xl font-bold text-gray-900">
              ë¬¸ë²• ì˜¤ë¥˜ ({feedback.grammarErrors.length}ê°œ)
            </h2>
          </div>
          
          <div className="space-y-4">
            {feedback.grammarErrors.map((error, index) => (
              <div
                key={index}
                className="bg-red-50 border border-red-200 rounded-lg p-4"
              >
                <div className="flex items-start gap-3 mb-2">
                  <span className="px-2 py-1 bg-red-200 text-red-800 rounded text-xs font-medium">
                    {error.type}
                  </span>
                  <div className="flex-1">
                    <div className="mb-2">
                      <span className="text-sm text-red-700 font-medium">í‹€ë¦° í‘œí˜„: </span>
                      <span className="text-sm text-red-900 line-through">
                        {error.original}
                      </span>
                    </div>
                    <div className="mb-2">
                      <span className="text-sm text-green-700 font-medium">ì˜¬ë°”ë¥¸ í‘œí˜„: </span>
                      <span className="text-sm text-green-900 font-semibold">
                        {error.corrected}
                      </span>
                    </div>
                    <p className="text-sm text-gray-700">
                      {error.explanation}
                    </p>
                  </div>
                </div>
              </div>
            ))}
          </div>
        </div>
      )}
      
      {/* ê°œì„  ì œì•ˆ */}
      {feedback.suggestions.length > 0 && (
        <div className="bg-white rounded-xl border border-gray-200 p-6 mb-6">
          <div className="flex items-center gap-2 mb-4">
            <Lightbulb className="w-6 h-6 text-yellow-600" />
            <h2 className="text-xl font-bold text-gray-900">
              ê°œì„  ì œì•ˆ ({feedback.suggestions.length}ê°œ)
            </h2>
          </div>
          
          <div className="space-y-4">
            {feedback.suggestions.map((suggestion, index) => (
              <div
                key={index}
                className="bg-yellow-50 border border-yellow-200 rounded-lg p-4"
              >
                <div className="flex items-start gap-3">
                  <span className="px-2 py-1 bg-yellow-200 text-yellow-800 rounded text-xs font-medium">
                    {suggestion.category}
                  </span>
                  <div className="flex-1">
                    <p className="text-sm font-medium text-gray-900 mb-1">
                      {suggestion.issue}
                    </p>
                    <p className="text-sm text-gray-700 mb-2">
                      ğŸ’¡ {suggestion.suggestion}
                    </p>
                    {suggestion.example && (
                      <div className="bg-white rounded p-3 border border-yellow-300">
                        <p className="text-xs text-gray-500 mb-1">ì˜ˆì‹œ:</p>
                        <p className="text-sm text-gray-800">
                          {suggestion.example}
                        </p>
                      </div>
                    )}
                  </div>
                </div>
              </div>
            ))}
          </div>
        </div>
      )}
      
      {/* ì˜í•œ ì  */}
      {feedback.strengths && feedback.strengths.length > 0 && (
        <div className="bg-white rounded-xl border border-gray-200 p-6 mb-6">
          <div className="flex items-center gap-2 mb-4">
            <ThumbsUp className="w-6 h-6 text-green-600" />
            <h2 className="text-xl font-bold text-gray-900">ì˜í•œ ì </h2>
          </div>
          
          <ul className="space-y-2">
            {feedback.strengths.map((strength, index) => (
              <li key={index} className="flex items-start gap-2 text-gray-700">
                <CheckCircle className="w-5 h-5 text-green-600 flex-shrink-0 mt-0.5" />
                <span>{strength}</span>
              </li>
            ))}
          </ul>
        </div>
      )}
      
      {/* ê°œì„ í•  ì  */}
      {feedback.areasForImprovement && feedback.areasForImprovement.length > 0 && (
        <div className="bg-white rounded-xl border border-gray-200 p-6 mb-6">
          <div className="flex items-center gap-2 mb-4">
            <TrendingUp className="w-6 h-6 text-blue-600" />
            <h2 className="text-xl font-bold text-gray-900">ê°œì„ í•  ì </h2>
          </div>
          
          <ul className="space-y-2">
            {feedback.areasForImprovement.map((area, index) => (
              <li key={index} className="flex items-start gap-2 text-gray-700">
                <span className="text-blue-600 mt-0.5">â€¢</span>
                <span>{area}</span>
              </li>
            ))}
          </ul>
        </div>
      )}
      
      {/* ì•¡ì…˜ ë²„íŠ¼ */}
      <div className="flex gap-3">
        <Link
          href="/learn/writing"
          className="flex-1 py-3 text-center border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50"
        >
          ìƒˆ ê¸€ ì“°ê¸°
        </Link>
        <Link
          href="/learn/writing/my-writings"
          className="flex-1 py-3 text-center bg-green-600 text-white rounded-lg hover:bg-green-700"
        >
          ë‚´ ê¸€ ëª©ë¡
        </Link>
      </div>
    </div>
  )
}
```

=== 4. ì œì¶œ ìƒì„¸ API ===

app/api/writing/submission/[id]/route.ts ìƒì„±:
```tsx
import { createRouteHandlerClient } from '@supabase/auth-helpers-nextjs'
import { cookies } from 'next/headers'
import { NextResponse } from 'next/server'

export async function GET(
  req: Request,
  { params }: { params: { id: string } }
) {
  try {
    const supabase = createRouteHandlerClient({ cookies })
    
    const {
      data: { session },
    } = await supabase.auth.getSession()

    if (!session) {
      return NextResponse.json(
        { error: 'Unauthorized' },
        { status: 401 }
      )
    }

    const { data, error } = await supabase
      .from('writing_submissions')
      .select(`
        id,
        content,
        word_count,
        ai_score,
        grammar_errors,
        suggestions,
        corrected_content,
        feedback_summary,
        submitted_at,
        writing_topics (
          title,
          prompt
        )
      `)
      .eq('id', params.id)
      .eq('user_id', session.user.id)
      .single()
    
    if (error) throw error
    
    return NextResponse.json({ submission: data })
  } catch (error) {
    console.error('Submission fetch error:', error)
    return NextResponse.json(
      { error: 'Failed to fetch submission' },
      { status: 500 }
    )
  }
}
```

=== 5. ë‚´ê°€ ì“´ ê¸€ í˜ì´ì§€ ì—…ë°ì´íŠ¸ ===

app/learn/writing/my-writings/page.tsx ìˆ˜ì •:

AI ì ìˆ˜ í‘œì‹œ ë° í”¼ë“œë°± ë§í¬ ì¶”ê°€:
```tsx
// ê¸°ì¡´ Submission ì¸í„°í˜ì´ìŠ¤ì— ai_score ì¶”ê°€
interface Submission {
  id: string
  topic_title: string
  content: string
  word_count: number
  ai_score: number | null
  submitted_at: string
}

// fetchSubmissionsì—ì„œ ai_scoreë„ ê°€ì ¸ì˜¤ê¸°
const { data, error } = await supabase
  .from('writing_submissions')
  .select(`
    id,
    content,
    word_count,
    ai_score,
    submitted_at,
    writing_topics (
      title
    )
  `)
  .eq('user_id', session.user.id)
  .order('submitted_at', { ascending: false })

// ì¹´ë“œ UI ìˆ˜ì •
{submissions.map((sub) => (
  <Link
    key={sub.id}
    href={`/learn/writing/feedback/${sub.id}`}
    className="bg-white rounded-xl border border-gray-200 p-6 hover:border-green-300 hover:shadow-md transition-all"
  >
    <div className="flex items-start justify-between mb-3">
      <h3 className="text-lg font-semibold text-gray-900">
        {sub.topic_title}
      </h3>
      <div className="flex items-center gap-2">
        {sub.ai_score !== null && (
          <span className={`px-3 py-1 rounded-full text-sm font-bold ${
            sub.ai_score >= 90 ? 'bg-green-100 text-green-700' :
            sub.ai_score >= 80 ? 'bg-blue-100 text-blue-700' :
            sub.ai_score >= 70 ? 'bg-yellow-100 text-yellow-700' :
            'bg-orange-100 text-orange-700'
          }`}>
            {sub.ai_score}ì 
          </span>
        )}
        <span className="text-sm text-gray-500 flex items-center gap-1">
          <Calendar className="w-4 h-4" />
          {new Date(sub.submitted_at).toLocaleDateString('ko-KR')}
        </span>
      </div>
    </div>
    
    <p className="text-gray-600 mb-4 line-clamp-3">
      {sub.content}
    </p>
    
    <div className="flex items-center justify-between">
      <span className="text-sm text-gray-500">
        {sub.word_count} ë‹¨ì–´
      </span>
      {sub.ai_score !== null ? (
        <span className="text-sm text-green-600 font-medium">
          AI ì²¨ì‚­ ì™„ë£Œ â†’
        </span>
      ) : (
        <span className="text-sm text-gray-400">
          ì²¨ì‚­ ëŒ€ê¸° ì¤‘
        </span>
      )}
    </div>
  </Link>
))}
```

=== 6. í™˜ê²½ë³€ìˆ˜ ì„¤ì • ì•ˆë‚´ ===

.env íŒŒì¼ì— OpenAI API í‚¤ ì¶”ê°€ í•„ìš”:
```
OPENAI_API_KEY=your_openai_api_key_here
```

Replit Secretsì— ì¶”ê°€:
1. Replit ì¢Œì¸¡ ë©”ë‰´ì—ì„œ "Tools" â†’ "Secrets" í´ë¦­
2. "New Secret" í´ë¦­
3. Key: OPENAI_API_KEY
4. Value: ì‹¤ì œ OpenAI API í‚¤ ì…ë ¥
5. "Add new secret" í´ë¦­

=== ì¶œë ¥ ìš”êµ¬ì‚¬í•­ ===

1. âœ… AI ì²¨ì‚­ API ì—”ë“œí¬ì¸íŠ¸
2. âœ… OpenAI GPT-4 ì—°ë™
3. âœ… ë¬¸ë²• ì˜¤ë¥˜ ê²€ì¶œ
4. âœ… ê°œì„  ì œì•ˆ ìƒì„±
5. âœ… êµì •ëœ ê¸€ ìƒì„±
6. âœ… ì ìˆ˜ ê³„ì‚° (0-100)
7. âœ… ì „ë°˜ì  í”¼ë“œë°±
8. âœ… í”¼ë“œë°± í˜ì´ì§€ UI
9. âœ… ì›ë³¸/êµì •ë³¸ ë¹„êµ
10. âœ… ë¬¸ë²• ì˜¤ë¥˜ ìƒì„¸ í‘œì‹œ
11. âœ… ê°œì„  ì œì•ˆ ìƒì„¸ í‘œì‹œ
12. âœ… ì˜í•œ ì /ê°œì„ í•  ì 
13. âœ… ì ìˆ˜ë³„ ìƒ‰ìƒ êµ¬ë¶„
14. âœ… ê¸€ì“°ê¸° í˜ì´ì§€ì—ì„œ ìë™ ì²¨ì‚­
15. âœ… ë‚´ê°€ ì“´ ê¸€ ëª©ë¡ì— ì ìˆ˜ í‘œì‹œ
16. âœ… ì œì¶œ ìƒì„¸ API
17. âœ… XP ë³´ë„ˆìŠ¤ ì ë¦½
18. âœ… ëª¨ë°”ì¼ ë°˜ì‘í˜•

ì™„ì„± í›„:
- Writing Phase 2 ì™„ë£Œ!
- AI ì²¨ì‚­ ì‹œìŠ¤í…œ ì‘ë™
- GPT-4ë¡œ ì‹¤ì‹œê°„ í”¼ë“œë°±
- ë‚´ì¼ Phase 3 (ì˜ˆì‹œ ë‹µì•ˆ) ë˜ëŠ” í…ŒìŠ¤íŠ¸

ì£¼ì˜ì‚¬í•­:
- OpenAI API í‚¤ í•„ìˆ˜
- API ë¹„ìš© ë°œìƒ (ì œì¶œë‹¹ ì•½ $0.03-0.05)
- ì²¨ì‚­ì— 10-20ì´ˆ ì†Œìš”

í…ŒìŠ¤íŠ¸:
1. ê¸€ ì‘ì„± ë° ì œì¶œ
2. AI ì²¨ì‚­ ëŒ€ê¸° (10-20ì´ˆ)
3. í”¼ë“œë°± í˜ì´ì§€ í™•ì¸
4. ë¬¸ë²• ì˜¤ë¥˜ í™•ì¸
5. ê°œì„  ì œì•ˆ í™•ì¸
6. êµì •ë³¸ ë¹„êµ
7. ì ìˆ˜ í™•ì¸
8. ë‚´ ê¸€ ëª©ë¡ì—ì„œ ì ìˆ˜ í™•ì¸

ì§€ê¸ˆ ë°”ë¡œ ë§Œë“¤ì–´ì¤˜!
ì™„ì„±ë˜ë©´ ì•Œë ¤ì¤˜!
```

---

## âš ï¸ **ì¤‘ìš” ì‚¬ì „ ì¤€ë¹„**

### **OpenAI API í‚¤ ë°œê¸‰:**
```
1. https://platform.openai.com ì ‘ì†
2. ë¡œê·¸ì¸ ë˜ëŠ” íšŒê°€ì…
3. API Keys ë©”ë‰´ í´ë¦­
4. "Create new secret key" í´ë¦­
5. í‚¤ ë³µì‚¬ (í•œ ë²ˆë§Œ í‘œì‹œë¨!)
6. Replit Secretsì— ì €ì¥
```

### **ì˜ˆìƒ ë¹„ìš©:**
```
GPT-4o ì‚¬ìš©:
- Input: $2.50 / 1M tokens
- Output: $10.00 / 1M tokens

ê¸€ 1ê°œ ì²¨ì‚­ ì˜ˆìƒ:
- Input: ~1,000 tokens (ê¸€ + í”„ë¡¬í”„íŠ¸)
- Output: ~500 tokens (í”¼ë“œë°±)
â†’ ì•½ $0.008 (8ì› ì •ë„)

â†’ ì›” 100ê°œ ì²¨ì‚­: ~$0.80
â†’ ì›” 1,000ê°œ ì²¨ì‚­: ~$8
â†’ ë§¤ìš° ì €ë ´í•¨!
```

---

## ğŸ¯ **Phase 2 í•µì‹¬ ê¸°ëŠ¥**

### **1. ìë™ ì²¨ì‚­**
```
ì œì¶œ â†’ AI ë¶„ì„ â†’ í”¼ë“œë°± ìƒì„±
â†’ 10-20ì´ˆ ì†Œìš”
â†’ ìë™ìœ¼ë¡œ í”¼ë“œë°± í˜ì´ì§€ë¡œ ì´ë™
```

### **2. ìƒì„¸ í”¼ë“œë°±**
```
âœ… ì ìˆ˜ (0-100)
âœ… ë¬¸ë²• ì˜¤ë¥˜ ëª©ë¡
âœ… ê°œì„  ì œì•ˆ
âœ… êµì •ëœ ê¸€
âœ… ì „ë°˜ì  í”¼ë“œë°±
```

### **3. í•™ìŠµ íš¨ê³¼**
```
âœ… êµ¬ì²´ì ì¸ ì˜¤ë¥˜ ì„¤ëª…
âœ… ì˜¬ë°”ë¥¸ í‘œí˜„ ì œì‹œ
âœ… ê°œì„  ë°©ë²• ì œì•ˆ
âœ… ê²©ë ¤ ë©”ì‹œì§€