[í”¼ë“œë°± #4] âœ… Reading ì§€ë¬¸ì— ë‹¨ì–´ ê¸°ëŠ¥ í•„ìš”
- ë¬¸ì œ: ì§€ë¬¸ì— ë‹¨ì–´ í´ë¦­ ê¸°ëŠ¥ ì—†ìŒ
- ìš”êµ¬ì‚¬í•­:
  âœ“ ë‹¨ì–´ í´ë¦­ â†’ ëœ» íŒì—…
  âœ“ ë‹¨ì–´ì¥ ì €ì¥ ê¸°ëŠ¥
  âœ“ ë¬¸ë‹¨ë³„ í•´ì„ ë³´ê¸°/ìˆ¨ê¸°ê¸°
- í•´ê²°: Phase 2ì— í¬í•¨
```

---

## ğŸ“ **Reading Phase 2 í”„ë¡¬í”„íŠ¸ (Replit Agentì— ë¶™ì—¬ë„£ê¸°)**
```
Reading ëª¨ë“ˆì˜ Phase 2ë¥¼ ê°œë°œí•´ì¤˜.

=== Reading Phase 2: ë…í•´ ë¬¸ì œ + ë‹¨ì–´ ê¸°ëŠ¥ ===

ì´ë²ˆ ë‹¨ê³„ì—ì„œëŠ”:
1. ë…í•´ ë¬¸ì œ ì‹œìŠ¤í…œ
2. ë‹µì•ˆ ì œì¶œ ë° ì±„ì 
3. ì§€ë¬¸ì— ë‹¨ì–´ í´ë¦­ ê¸°ëŠ¥ ì¶”ê°€ (ì¤‘ìš”!)
4. ë¬¸ë‹¨ë³„ í•´ì„ í† ê¸€ ê¸°ëŠ¥

=== 1. ë…í•´ ë¬¸ì œ ë°ì´í„° ì¶”ê°€ ===

ê° ì§€ë¬¸ì— ë…í•´ ë¬¸ì œ 3-4ê°œì”© ì¶”ê°€:
```sql
-- Level 1: My Daily Routine ë¬¸ì œ
INSERT INTO reading_questions (passage_id, question_text, question_type, options, correct_answer, explanation) 
SELECT id, 
  'What time does Sarah wake up?',
  'detail',
  '["6 AM", "7 AM", "8 AM", "9 AM"]'::jsonb,
  '7 AM',
  'The passage states "I wake up at 7 AM every day."'
FROM reading_passages WHERE title = 'My Daily Routine';

INSERT INTO reading_questions (passage_id, question_text, question_type, options, correct_answer, explanation)
SELECT id,
  'How does Sarah go to school?',
  'detail',
  '["By car", "By bus", "By bike", "By walking"]'::jsonb,
  'By bus',
  'The text says "Then I go to school by bus."'
FROM reading_passages WHERE title = 'My Daily Routine';

INSERT INTO reading_questions (passage_id, question_text, question_type, options, correct_answer, explanation)
SELECT id,
  'What does Sarah like to do in the evening?',
  'detail',
  '["Watch TV", "Play games", "Read books", "Exercise"]'::jsonb,
  'Read books',
  'According to the passage, "I like to read books in the evening."'
FROM reading_passages WHERE title = 'My Daily Routine';

-- Level 2: Party Invitation ë¬¸ì œ
INSERT INTO reading_questions (passage_id, question_text, question_type, options, correct_answer, explanation)
SELECT id,
  'What is the main purpose of this email?',
  'main_idea',
  '["To thank someone", "To invite friends to a party", "To ask for help", "To apologize"]'::jsonb,
  'To invite friends to a party',
  'Emma is inviting friends to her birthday party.'
FROM reading_passages WHERE title = 'Party Invitation';

INSERT INTO reading_questions (passage_id, question_text, question_type, options, correct_answer, explanation)
SELECT id,
  'When is the party?',
  'detail',
  '["This Saturday", "Next Saturday", "This Sunday", "Next Sunday"]'::jsonb,
  'Next Saturday',
  'The email mentions "next Saturday at 3 PM".'
FROM reading_passages WHERE title = 'Party Invitation';

INSERT INTO reading_questions (passage_id, question_text, question_type, options, correct_answer, explanation)
SELECT id,
  'What will NOT be at the party?',
  'detail',
  '["Cake", "Games", "Music", "Swimming"]'::jsonb,
  'Swimming',
  'The email lists cake, games, and music, but not swimming.'
FROM reading_passages WHERE title = 'Party Invitation';

-- Level 3: New Park Opens Downtown ë¬¸ì œ
INSERT INTO reading_questions (passage_id, question_text, question_type, options, correct_answer, explanation)
SELECT id,
  'What is this article mainly about?',
  'main_idea',
  '["A famous mayor", "A new park opening", "Building costs", "City problems"]'::jsonb,
  'A new park opening',
  'The article discusses the opening of a new downtown park.'
FROM reading_passages WHERE title = 'New Park Opens Downtown';

INSERT INTO reading_questions (passage_id, question_text, question_type, options, correct_answer, explanation)
SELECT id,
  'How long did it take to build the park?',
  'detail',
  '["One year", "Two years", "Three years", "Five years"]'::jsonb,
  'Two years',
  'The text states "The park took two years to build".'
FROM reading_passages WHERE title = 'New Park Opens Downtown';

INSERT INTO reading_questions (passage_id, question_text, question_type, options, correct_answer, explanation)
SELECT id,
  'What can you infer about the local residents?',
  'inference',
  '["They are angry", "They are excited", "They are confused", "They are worried"]'::jsonb,
  'They are excited',
  'The passage mentions "Local residents are excited about the new addition".'
FROM reading_passages WHERE title = 'New Park Opens Downtown';

INSERT INTO reading_questions (passage_id, question_text, question_type, options, correct_answer, explanation)
SELECT id,
  'What does "addition" mean in this context?',
  'vocabulary',
  '["Math problem", "Something new added", "Building material", "Park equipment"]'::jsonb,
  'Something new added',
  'In this context, "addition" refers to something new being added to the neighborhood.'
FROM reading_passages WHERE title = 'New Park Opens Downtown';

-- Level 4: The Benefits of Reading ë¬¸ì œ
INSERT INTO reading_questions (passage_id, question_text, question_type, options, correct_answer, explanation)
SELECT id,
  'What is the main idea of this essay?',
  'main_idea',
  '["Reading is expensive", "Reading has many benefits", "Books are old-fashioned", "Reading is difficult"]'::jsonb,
  'Reading has many benefits',
  'The essay discusses various benefits of reading.'
FROM reading_passages WHERE title = 'The Benefits of Reading';

INSERT INTO reading_questions (passage_id, question_text, question_type, options, correct_answer, explanation)
SELECT id,
  'According to the passage, how much can reading reduce stress?',
  'detail',
  '["50%", "60%", "68%", "80%"]'::jsonb,
  '68%',
  'The text states "lower stress by up to 68 percent".'
FROM reading_passages WHERE title = 'The Benefits of Reading';

INSERT INTO reading_questions (passage_id, question_text, question_type, options, correct_answer, explanation)
SELECT id,
  'Reading is compared to what in the essay?',
  'detail',
  '["Eating healthy", "Physical exercise", "Sleeping well", "Watching movies"]'::jsonb,
  'Physical exercise',
  'The passage compares reading to physical exercise: "Like physical exercise strengthens the body, mental exercise through reading strengthens the brain."'
FROM reading_passages WHERE title = 'The Benefits of Reading';

INSERT INTO reading_questions (passage_id, question_text, question_type, options, correct_answer, explanation)
SELECT id,
  'What can be inferred about reading before bed?',
  'inference',
  '["It causes headaches", "It helps you sleep better", "It wastes time", "It is too difficult"]'::jsonb,
  'It helps you sleep better',
  'The passage mentions "Reading before bed can also improve sleep quality".'
FROM reading_passages WHERE title = 'The Benefits of Reading';

-- Level 5: Artificial Intelligence in Healthcare ë¬¸ì œ
INSERT INTO reading_questions (passage_id, question_text, question_type, options, correct_answer, explanation)
SELECT id,
  'What is the main topic of this article?',
  'main_idea',
  '["Computer problems", "AI transforming healthcare", "Medical school training", "Hospital costs"]'::jsonb,
  'AI transforming healthcare',
  'The article discusses how AI is revolutionizing healthcare.'
FROM reading_passages WHERE title = 'Artificial Intelligence in Healthcare';

INSERT INTO reading_questions (passage_id, question_text, question_type, options, correct_answer, explanation)
SELECT id,
  'According to the passage, what can AI detect from medical images?',
  'detail',
  '["Only broken bones", "Only cancers", "Various diseases", "Only heart problems"]'::jsonb,
  'Various diseases',
  'The text mentions AI can identify "early-stage cancers, cardiovascular conditions, and neurological disorders".'
FROM reading_passages WHERE title = 'Artificial Intelligence in Healthcare';

INSERT INTO reading_questions (passage_id, question_text, question_type, options, correct_answer, explanation)
SELECT id,
  'What ethical concerns does the article mention?',
  'detail',
  '["Cost only", "Data privacy and algorithmic bias", "Doctor unemployment", "Patient confusion"]'::jsonb,
  'Data privacy and algorithmic bias',
  'The passage specifically mentions "Issues of data privacy, algorithmic bias".'
FROM reading_passages WHERE title = 'Artificial Intelligence in Healthcare';

INSERT INTO reading_questions (passage_id, question_text, question_type, options, correct_answer, explanation)
SELECT id,
  'What does "unprecedented" most likely mean?',
  'vocabulary',
  '["Expected", "Never seen before", "Expensive", "Dangerous"]'::jsonb,
  'Never seen before',
  '"Unprecedented" means something that has never happened or been seen before.'
FROM reading_passages WHERE title = 'Artificial Intelligence in Healthcare';
```

=== 2. ì§€ë¬¸ ì½ê¸° í˜ì´ì§€ ê°œì„  ===

app/learn/reading/[id]/page.tsxë¥¼ ì „ë©´ ìˆ˜ì •:

ë‹¨ì–´ í´ë¦­ ê°€ëŠ¥ + í•´ì„ í† ê¸€ + ë…í•´ ë¬¸ì œ
```tsx
'use client'

import { useEffect, useState } from 'react'
import { useParams } from 'next/navigation'
import { ArrowLeft, Clock, BookOpen, Eye, EyeOff } from 'lucide-react'
import Link from 'next/link'
import ClickableText from '@/components/listening/ClickableText'
import ReadingQuestions from '@/components/reading/ReadingQuestions'

interface Passage {
  id: string
  title: string
  content: string
  content_type: string
  difficulty: number
  word_count: number
  estimated_time: number
}

interface Question {
  id: string
  question_text: string
  question_type: string
  options: string[]
  correct_answer: string
  explanation: string
}

export default function ReadingPassagePage() {
  const params = useParams()
  const [passage, setPassage] = useState<Passage | null>(null)
  const [questions, setQuestions] = useState<Question[]>([])
  const [loading, setLoading] = useState(true)
  const [startTime] = useState<Date>(new Date())
  const [showQuestions, setShowQuestions] = useState(false)
  const [showTranslation, setShowTranslation] = useState(false)
  
  // ë¬¸ë‹¨ë³„ë¡œ ë¶„ë¦¬ (ì˜ì–´ + í•œêµ­ì–´)
  const paragraphs = passage ? passage.content.split('\n\n').map((para, index) => ({
    text: para,
    translation: getTranslation(passage.title, index) // ì„ì‹œ í•¨ìˆ˜, ì‹¤ì œë¡œëŠ” DBì—ì„œ
  })) : []
  
  useEffect(() => {
    if (params.id) {
      fetchPassage(params.id as string)
      fetchQuestions(params.id as string)
    }
  }, [params.id])
  
  const fetchPassage = async (id: string) => {
    try {
      const response = await fetch(`/api/reading/passages/${id}`)
      const data = await response.json()
      setPassage(data.passage)
    } catch (error) {
      console.error('Failed to fetch passage:', error)
    } finally {
      setLoading(false)
    }
  }
  
  const fetchQuestions = async (id: string) => {
    try {
      const response = await fetch(`/api/reading/questions/${id}`)
      const data = await response.json()
      setQuestions(data.questions || [])
    } catch (error) {
      console.error('Failed to fetch questions:', error)
    }
  }
  
  // ì„ì‹œ ë²ˆì—­ í•¨ìˆ˜ (ë‚˜ì¤‘ì— DBì—ì„œ ê°€ì ¸ì˜¤ë„ë¡ ê°œì„ )
  function getTranslation(title: string, paragraphIndex: number): string {
    const translations: Record<string, string[]> = {
      'My Daily Routine': [
        'ì œ ì´ë¦„ì€ ì‚¬ë¼ì…ë‹ˆë‹¤. ì €ëŠ” í•™ìƒì´ì—ìš”. ì €ëŠ” ë§¤ì¼ ì˜¤ì „ 7ì‹œì— ì¼ì–´ë‚©ë‹ˆë‹¤. ê°€ì¡±ê³¼ í•¨ê»˜ ì•„ì¹¨ì„ ë¨¹ì–´ìš”. ê·¸ë¦¬ê³  ë²„ìŠ¤ë¡œ í•™êµì— ê°€ìš”. í•™êµëŠ” 8ì‹œ 30ë¶„ì— ì‹œì‘í•´ìš”. ì ì‹¬ì€ 12ì‹œì— ë¨¹ì–´ìš”. ë°©ê³¼ í›„ì—ëŠ” ìˆ™ì œë¥¼ í•´ìš”. ì €ëŠ” ì €ë…ì— ì±… ì½ëŠ” ê²ƒì„ ì¢‹ì•„í•´ìš”. ë°¤ 10ì‹œì— ì ìë¦¬ì— ë“¤ì–´ìš”.'
      ],
      'Party Invitation': [
        'ì¹œì• í•˜ëŠ” ì¹œêµ¬ë“¤ì—ê²Œ,\n\në‹¤ìŒ ì£¼ í† ìš”ì¼ ì˜¤í›„ 3ì‹œì— ì œ ìƒì¼ íŒŒí‹°ë¥¼ í•´ìš”. íŒŒí‹°ëŠ” ì œ ì§‘ì—ì„œ í•  ê±°ì˜ˆìš”. ì¼€ì´í¬, ê²Œì„, ìŒì•…ì´ ìˆì„ ê±°ì˜ˆìš”. ì¹œêµ¬ë“¤ë„ ë°ë ¤ì˜¤ì„¸ìš”! ì˜¬ ìˆ˜ ìˆëŠ”ì§€ ì•Œë ¤ì£¼ì„¸ìš”.\n\nê·¸ê³³ì—ì„œ ë´ìš”!\nì— ë§ˆ'
      ],
      'New Park Opens Downtown': [
        'ì‹œì—ì„œ ì–´ì œ ë„ì‹¬ì— ìƒˆë¡œìš´ ê³µì›ì„ ì—´ì—ˆìŠµë‹ˆë‹¤. ê³µì›ì—ëŠ” ì‚°ì±…ë¡œ, ë†€ì´í„°, ì‘ì€ í˜¸ìˆ˜ê°€ ìˆìŠµë‹ˆë‹¤. ì¡´ìŠ¨ ì‹œì¥ì€ ì´ ê³µì›ì´ ê°€ì¡±ë“¤ì´ ì•¼ì™¸ í™œë™ì„ ì¦ê¸°ëŠ” ë° ë„ì›€ì´ ë  ê²ƒì´ë¼ê³  ë§í–ˆìŠµë‹ˆë‹¤. "ìš°ë¦¬ëŠ” ëª¨ë‘ë¥¼ ìœ„í•œ ì•„ë¦„ë‹¤ìš´ ê³µê°„ì„ ë§Œë“¤ê³  ì‹¶ì—ˆìŠµë‹ˆë‹¤"ë¼ê³  ì‹œì¥ì€ ì„¤ëª…í–ˆìŠµë‹ˆë‹¤. ê³µì› ê±´ì„¤ì—ëŠ” 2ë…„ì´ ê±¸ë ¸ê³  500ë§Œ ë‹¬ëŸ¬ì˜ ë¹„ìš©ì´ ë“¤ì—ˆìŠµë‹ˆë‹¤. ì§€ì—­ ì£¼ë¯¼ë“¤ì€ ë™ë„¤ì— ìƒˆë¡œ ì¶”ê°€ëœ ì´ê²ƒì— ëŒ€í•´ ê¸°ëŒ€í•˜ê³  ìˆìŠµë‹ˆë‹¤. ê³µì›ì€ ì˜¤ì „ 6ì‹œë¶€í„° ì˜¤í›„ 9ì‹œê¹Œì§€ ë§¤ì¼ ì—´ë ¤ ìˆìŠµë‹ˆë‹¤.'
      ],
      'The Benefits of Reading': [
        'ë…ì„œëŠ” ì‚¬ëŒì´ ê°œë°œí•  ìˆ˜ ìˆëŠ” ê°€ì¥ ê°€ì¹˜ ìˆëŠ” ìŠµê´€ ì¤‘ í•˜ë‚˜ì…ë‹ˆë‹¤. ë…ì„œëŠ” ìš°ë¦¬ì˜ ì§€ì‹ì„ í™•ì¥í•˜ê³ , ì–´íœ˜ë ¥ì„ í–¥ìƒì‹œí‚¤ë©°, ìƒìƒë ¥ì„ ìê·¹í•©ë‹ˆë‹¤. ì •ê¸°ì ìœ¼ë¡œ ë…ì„œë¥¼ í•˜ë©´ ë‹¤ì–‘í•œ ê´€ì ê³¼ ì•„ì´ë””ì–´ì— ë…¸ì¶œë©ë‹ˆë‹¤. ì´ëŠ” ì„¸ìƒì„ ë” ì˜ ì´í•´í•˜ê³  ë‹¤ë¥¸ ì‚¬ëŒë“¤ì— ëŒ€í•´ ë” ê³µê°í•˜ê²Œ ë§Œë“­ë‹ˆë‹¤.',
        'ì—°êµ¬ì— ë”°ë¥´ë©´ ë…ì„œëŠ” ìŠ¤íŠ¸ë ˆìŠ¤ ìˆ˜ì¤€ì„ í¬ê²Œ ì¤„ì¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì„œì‹ìŠ¤ ëŒ€í•™êµì˜ ê³¼í•™ìë“¤ì— ë”°ë¥´ë©´ ë‹¨ 6ë¶„ì˜ ë…ì„œë§Œìœ¼ë¡œë„ ìŠ¤íŠ¸ë ˆìŠ¤ë¥¼ ìµœëŒ€ 68% ë‚®ì¶œ ìˆ˜ ìˆìŠµë‹ˆë‹¤. ìê¸° ì „ ë…ì„œëŠ” ìˆ˜ë©´ì˜ ì§ˆë„ í–¥ìƒì‹œí‚¬ ìˆ˜ ìˆìŠµë‹ˆë‹¤.',
        'ê²Œë‹¤ê°€ ë…ì„œëŠ” ìš°ë¦¬ì˜ ì •ì‹ ì„ í™œë™ì ì´ê³  ì°¸ì—¬í•˜ê²Œ ìœ ì§€í•©ë‹ˆë‹¤. ì‹ ì²´ ìš´ë™ì´ ëª¸ì„ ê°•í™”í•˜ë“¯ì´, ë…ì„œë¥¼ í†µí•œ ì •ì‹  ìš´ë™ì€ ë‡Œë¥¼ ê°•í™”í•©ë‹ˆë‹¤. ì—°êµ¬ì— ë”°ë¥´ë©´ ì •ê¸°ì ì¸ ë…ì„œëŠ” ë‚˜ì´ê°€ ë“¤ë©´ì„œ ì¸ì§€ ëŠ¥ë ¥ ì €í•˜ë¥¼ ì˜ˆë°©í•˜ëŠ” ë° ë„ì›€ì´ ë  ìˆ˜ ìˆìŠµë‹ˆë‹¤.'
      ],
      'Artificial Intelligence in Healthcare': [
        'ì¸ê³µì§€ëŠ¥ì€ ì „ë¡€ ì—†ëŠ” ë°©ì‹ìœ¼ë¡œ ì˜ë£Œ ì‚°ì—…ì— í˜ëª…ì„ ì¼ìœ¼í‚¤ê³  ìˆìŠµë‹ˆë‹¤. ê¸°ê³„ í•™ìŠµ ì•Œê³ ë¦¬ì¦˜ì€ ì´ì œ ì˜ë£Œ ì˜ìƒì—ì„œ ì§ˆë³‘ì„ ê°ì§€í•  ìˆ˜ ìˆìœ¼ë©°, ê·¸ ì •í™•ë„ëŠ” ì¸ê°„ ì „ë¬¸ê°€ì™€ ë§ë¨¹ê±°ë‚˜ ëŠ¥ê°€í•©ë‹ˆë‹¤. ì˜ˆë¥¼ ë“¤ì–´, AI ì‹œìŠ¤í…œì€ ì´ˆê¸° ë‹¨ê³„ ì•”, ì‹¬í˜ˆê´€ ì§ˆí™˜ ë° ì‹ ê²½ ì¥ì• ë¥¼ ì‹ë³„í•˜ëŠ” ë° ë†€ë¼ìš´ ì„±ê³µì„ ë³´ì—¬ì£¼ì—ˆìŠµë‹ˆë‹¤.',
        'ì˜ë£Œ ë¶„ì•¼ì—ì„œ AIì˜ êµ¬í˜„ì€ ì§„ë‹¨ì„ ë„˜ì–´ í™•ì¥ë©ë‹ˆë‹¤. ì˜ˆì¸¡ ë¶„ì„ì€ ë³‘ì›ì´ ìì› í• ë‹¹ì„ ìµœì í™”í•˜ì—¬ ëŒ€ê¸° ì‹œê°„ì„ ì¤„ì´ê³  í™˜ì ê²°ê³¼ë¥¼ ê°œì„ í•˜ëŠ” ë° ë„ì›€ì´ ë©ë‹ˆë‹¤. ìì—°ì–´ ì²˜ë¦¬ëŠ” ì˜ë£Œ ê¸°ë¡ì˜ ìë™ ë¶„ì„ì„ ê°€ëŠ¥í•˜ê²Œ í•˜ì—¬ ì¸ê°„ì˜ ê´€ì°°ì„ ë²—ì–´ë‚  ìˆ˜ ìˆëŠ” íŒ¨í„´ì„ ì‹ë³„í•©ë‹ˆë‹¤. ë¡œë´‡ ë³´ì¡° ìˆ˜ìˆ ì€ ë” ë†’ì€ ì •ë°€ë„ë¥¼ ê°€ëŠ¥í•˜ê²Œ í•˜ì—¬ í•©ë³‘ì¦ì„ ì¤„ì´ê³  íšŒë³µ ì‹œê°„ì„ ë‹¨ì¶•ì‹œí‚µë‹ˆë‹¤.',
        'ê·¸ëŸ¬ë‚˜ ì˜ë£Œ ë¶„ì•¼ì— AIë¥¼ í†µí•©í•˜ëŠ” ê²ƒì€ ì¤‘ìš”í•œ ìœ¤ë¦¬ì  ì§ˆë¬¸ì„ ì œê¸°í•©ë‹ˆë‹¤. ë°ì´í„° í”„ë¼ì´ë²„ì‹œ, ì•Œê³ ë¦¬ì¦˜ í¸í–¥, ì˜ë£Œ ì˜ì‚¬ ê²°ì •ì—ì„œ ì¸ê°„ íŒë‹¨ì˜ ì—­í•  ë¬¸ì œëŠ” ì‹ ì¤‘í•œ ê³ ë ¤ê°€ í•„ìš”í•©ë‹ˆë‹¤. ì´ ê¸°ìˆ ì´ ê³„ì† ë°œì „í•¨ì— ë”°ë¼, AIê°€ ì˜ë£Œ ì‹¤ë¬´ì˜ ê¸°ë³¸ ì›ì¹™ì„ ìœ ì§€í•˜ë©´ì„œ í™˜ìì˜ ìµœì„ ì˜ ì´ìµì„ ì œê³µí•˜ë„ë¡ ì ì ˆí•œ ê·œì œ í”„ë ˆì„ì›Œí¬ì™€ ìœ¤ë¦¬ ì§€ì¹¨ì„ í™•ë¦½í•˜ëŠ” ê²ƒì´ ì ì  ë” ì¤‘ìš”í•´ì§€ê³  ìˆìŠµë‹ˆë‹¤.'
      ]
    }
    
    return translations[title]?.[paragraphIndex] || 'ë²ˆì—­ì´ ì¤€ë¹„ ì¤‘ì…ë‹ˆë‹¤.'
  }
  
  const handleStartQuestions = () => {
    setShowQuestions(true)
  }
  
  if (loading) {
    return (
      <div className="flex items-center justify-center h-screen">
        <div className="animate-spin rounded-full h-12 w-12 border-b-2 border-purple-600" />
      </div>
    )
  }
  
  if (!passage) {
    return (
      <div className="flex flex-col items-center justify-center h-screen">
        <BookOpen className="w-16 h-16 text-gray-300 mb-4" />
        <p className="text-gray-600 mb-4">ì§€ë¬¸ì„ ì°¾ì„ ìˆ˜ ì—†ì–´ìš”</p>
        <Link
          href="/learn/reading"
          className="px-6 py-3 bg-purple-600 text-white rounded-lg hover:bg-purple-700"
        >
          ëª©ë¡ìœ¼ë¡œ ëŒì•„ê°€ê¸°
        </Link>
      </div>
    )
  }
  
  if (showQuestions && questions.length > 0) {
    return (
      <ReadingQuestions
        passage={passage}
        questions={questions}
        startTime={startTime}
        onBack={() => setShowQuestions(false)}
      />
    )
  }
  
  return (
    <div className="max-w-4xl mx-auto p-6">
      {/* í—¤ë” */}
      <div className="mb-6">
        <Link
          href="/learn/reading"
          className="inline-flex items-center gap-2 text-purple-600 hover:text-purple-700 mb-4"
        >
          <ArrowLeft className="w-4 h-4" />
          ëª©ë¡ìœ¼ë¡œ
        </Link>
        
        <div className="bg-white rounded-xl border border-gray-200 p-6">
          <div className="flex items-start justify-between mb-4">
            <div>
              <h1 className="text-2xl font-bold text-gray-900 mb-2">
                {passage.title}
              </h1>
              <div className="flex items-center gap-4 text-sm text-gray-600">
                <span>Level {passage.difficulty}</span>
                <span>â€¢</span>
                <span className="flex items-center gap-1">
                  <BookOpen className="w-4 h-4" />
                  {passage.word_count} ë‹¨ì–´
                </span>
                <span>â€¢</span>
                <span className="flex items-center gap-1">
                  <Clock className="w-4 h-4" />
                  ì•½ {Math.ceil(passage.estimated_time / 60)}ë¶„
                </span>
              </div>
            </div>
            
            {/* í•´ì„ í† ê¸€ */}
            <button
              onClick={() => setShowTranslation(!showTranslation)}
              className={`flex items-center gap-2 px-4 py-2 text-sm rounded-lg transition-colors ${
                showTranslation
                  ? 'bg-purple-600 text-white'
                  : 'bg-gray-100 text-gray-700 hover:bg-gray-200'
              }`}
            >
              {showTranslation ? (
                <>
                  <EyeOff className="w-4 h-4" />
                  í•´ì„ ìˆ¨ê¸°ê¸°
                </>
              ) : (
                <>
                  <Eye className="w-4 h-4" />
                  í•´ì„ ë³´ê¸°
                </>
              )}
            </button>
          </div>
          
          {/* ì•ˆë‚´ ë©”ì‹œì§€ */}
          <div className="bg-purple-50 border border-purple-200 rounded-lg p-4">
            <p className="text-sm text-purple-900">
              ğŸ’¡ <strong>íŒ:</strong> ë‹¨ì–´ë¥¼ í´ë¦­í•˜ë©´ ëœ»ì„ ë³¼ ìˆ˜ ìˆì–´ìš”. 
              ì²œì²œíˆ ì½ìœ¼ë©° ë‚´ìš©ì„ ì´í•´í•˜ì„¸ìš”.
            </p>
          </div>
        </div>
      </div>
      
      {/* ì§€ë¬¸ ë‚´ìš© (ë‹¨ì–´ í´ë¦­ ê°€ëŠ¥ + í•´ì„) */}
      <div className="bg-white rounded-xl border border-gray-200 p-8 mb-6">
        <div className="space-y-6">
          {paragraphs.map((para, index) => (
            <div
              key={index}
              className={`p-4 rounded-lg ${
                showTranslation ? 'bg-purple-50 border border-purple-200' : ''
              }`}
            >
              <div className="text-lg leading-relaxed text-gray-800 mb-2">
                <ClickableText text={para.text} />
              </div>
              
              {showTranslation && (
                <div className="pt-3 border-t border-purple-200">
                  <p className="text-sm text-purple-800">
                    {para.translation}
                  </p>
                </div>
              )}
            </div>
          ))}
        </div>
      </div>
      
      {/* ë…í•´ ë¬¸ì œ ì‹œì‘ ë²„íŠ¼ */}
      <div className="flex justify-center">
        <button
          onClick={handleStartQuestions}
          disabled={questions.length === 0}
          className="px-8 py-4 bg-purple-600 text-white rounded-xl hover:bg-purple-700 font-semibold text-lg shadow-lg hover:shadow-xl transition-all disabled:opacity-50 disabled:cursor-not-allowed"
        >
          ë…í•´ ë¬¸ì œ í’€ê¸° ({questions.length}ë¬¸ì œ)
        </button>
      </div>
    </div>
  )
}
```

=== 3. ë…í•´ ë¬¸ì œ ì»´í¬ë„ŒíŠ¸ ===

components/reading/ReadingQuestions.tsx ìƒì„±:
```tsx
'use client'

import { useState } from 'react'
import { ArrowLeft, CheckCircle, XCircle, Award } from 'lucide-react'
import { useRouter } from 'next/navigation'

interface Question {
  id: string
  question_text: string
  question_type: string
  options: string[]
  correct_answer: string
  explanation: string
}

interface Passage {
  id: string
  title: string
  word_count: number
}

interface ReadingQuestionsProps {
  passage: Passage
  questions: Question[]
  startTime: Date
  onBack: () => void
}

const questionTypeNames: Record<string, string> = {
  main_idea: 'ì£¼ì œ ì°¾ê¸°',
  detail: 'ì„¸ë¶€ ì •ë³´',
  inference: 'ì¶”ë¡ ',
  vocabulary: 'ì–´íœ˜'
}

export default function ReadingQuestions({
  passage,
  questions,
  startTime,
  onBack
}: ReadingQuestionsProps) {
  const router = useRouter()
  const [currentQuestionIndex, setCurrentQuestionIndex] = useState(0)
  const [answers, setAnswers] = useState<Record<string, string>>({})
  const [submitted, setSubmitted] = useState(false)
  const [showExplanation, setShowExplanation] = useState(false)
  
  const currentQuestion = questions[currentQuestionIndex]
  const isLastQuestion = currentQuestionIndex === questions.length - 1
  const currentAnswer = answers[currentQuestion.id]
  
  const handleAnswer = (answer: string) => {
    setAnswers({
      ...answers,
      [currentQuestion.id]: answer
    })
    setShowExplanation(false)
  }
  
  const handleNext = () => {
    if (isLastQuestion) {
      handleSubmit()
    } else {
      setCurrentQuestionIndex(currentQuestionIndex + 1)
      setShowExplanation(false)
    }
  }
  
  const handlePrev = () => {
    if (currentQuestionIndex > 0) {
      setCurrentQuestionIndex(currentQuestionIndex - 1)
      setShowExplanation(false)
    }
  }
  
  const handleSubmit = async () => {
    setSubmitted(true)
    
    // ì ìˆ˜ ê³„ì‚°
    const correctCount = questions.filter(
      q => answers[q.id] === q.correct_answer
    ).length
    const score = Math.round((correctCount / questions.length) * 100)
    
    // ì½ê¸° ì‹œê°„ ê³„ì‚°
    const endTime = new Date()
    const readingTime = Math.floor((endTime.getTime() - startTime.getTime()) / 1000)
    
    // WPM ê³„ì‚° (Words Per Minute)
    const minutes = readingTime / 60
    const wpm = Math.round(passage.word_count / minutes)
    
    // ì§„ë„ ì €ì¥
    try {
      const response = await fetch('/api/reading/progress', {
        method: 'POST',
        headers: { 'Content-Type': 'application/json' },
        body: JSON.stringify({
          passageId: passage.id,
          answers: answers,
          score: score,
          correctCount: correctCount,
          totalCount: questions.length,
          readingTime: readingTime,
          wpm: wpm,
          completed: score >= 70
        })
      })
      
      if (!response.ok) throw new Error('Failed to save progress')
      
      // XP ì ë¦½
      const xpAmount = Math.floor(score / 5) + 10
      await fetch('/api/gamification/xp', {
        method: 'POST',
        headers: { 'Content-Type': 'application/json' },
        body: JSON.stringify({
          amount: xpAmount,
          source: 'reading'
        })
      })
      
    } catch (error) {
      console.error('Failed to save progress:', error)
    }
  }
  
  // ê²°ê³¼ í™”ë©´
  if (submitted) {
    const correctCount = questions.filter(
      q => answers[q.id] === q.correct_answer
    ).length
    const score = Math.round((correctCount / questions.length) * 100)
    const endTime = new Date()
    const readingTime = Math.floor((endTime.getTime() - startTime.getTime()) / 1000)
    const minutes = readingTime / 60
    const wpm = Math.round(passage.word_count / minutes)
    
    return (
      <div className="max-w-3xl mx-auto p-6">
        <div className="bg-white rounded-2xl border border-gray-200 p-8">
          {/* ì ìˆ˜ */}
          <div className="text-center mb-8">
            <div className="text-6xl mb-4">
              {score >= 90 ? 'ğŸ†' : score >= 70 ? 'â­' : score >= 50 ? 'ğŸ’¡' : 'ğŸ“–'}
            </div>
            <h2 className={`text-4xl font-bold mb-2 ${
              score >= 90 ? 'text-green-600' :
              score >= 70 ? 'text-blue-600' :
              score >= 50 ? 'text-orange-600' : 'text-red-600'
            }`}>
              {score}ì 
            </h2>
            <p className="text-gray-600">
              {correctCount} / {questions.length} ì •ë‹µ
            </p>
          </div>
          
          {/* í†µê³„ */}
          <div className="grid grid-cols-2 gap-4 mb-6">
            <div className="bg-purple-50 rounded-lg p-4 text-center">
              <p className="text-sm text-purple-600 mb-1">ì½ê¸° ì†ë„</p>
              <p className="text-2xl font-bold text-purple-900">{wpm} WPM</p>
            </div>
            <div className="bg-blue-50 rounded-lg p-4 text-center">
              <p className="text-sm text-blue-600 mb-1">ì†Œìš” ì‹œê°„</p>
              <p className="text-2xl font-bold text-blue-900">
                {Math.floor(minutes)}ë¶„ {Math.round((minutes % 1) * 60)}ì´ˆ
              </p>
            </div>
          </div>
          
          {/* ë¬¸ì œë³„ ê²°ê³¼ */}
          <div className="space-y-3 mb-6">
            <h3 className="font-semibold text-gray-900">ë¬¸ì œë³„ ê²°ê³¼</h3>
            {questions.map((q, index) => {
              const isCorrect = answers[q.id] === q.correct_answer
              return (
                <div
                  key={q.id}
                  className={`p-4 rounded-lg border-2 ${
                    isCorrect
                      ? 'bg-green-50 border-green-200'
                      : 'bg-red-50 border-red-200'
                  }`}
                >
                  <div className="flex items-start gap-3">
                    {isCorrect ? (
                      <CheckCircle className="w-5 h-5 text-green-600 flex-shrink-0 mt-0.5" />
                    ) : (
                      <XCircle className="w-5 h-5 text-red-600 flex-shrink-0 mt-0.5" />
                    )}
                    <div className="flex-1">
                      <p className="font-medium text-gray-900 mb-2">
                        {index + 1}. {q.question_text}
                      </p>
                      {!isCorrect && (
                        <div className="space-y-1 text-sm">
                          <p className="text-red-700">
                            ë‹¹ì‹ ì˜ ë‹µë³€: {answers[q.id] || '(ë‹µí•˜ì§€ ì•ŠìŒ)'}
                          </p>
                          <p className="text-green-700">
                            ì •ë‹µ: {q.correct_answer}
                          </p>
                          <p className="text-gray-600 mt-2">
                            {q.explanation}
                          </p>
                        </div>
                      )}
                    </div>
                  </div>
                </div>
              )
            })}
          </div>
          
          {/* ë²„íŠ¼ */}
          <div className="flex gap-3">
            <button
              onClick={() => router.push('/learn/reading')}
              className="flex-1 py-3 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50"
            >
              ëª©ë¡ìœ¼ë¡œ
            </button>
            <button
              onClick={onBack}
              className="flex-1 py-3 bg-purple-600 text-white rounded-lg hover:bg-purple-700"
            >
              ì§€ë¬¸ ë‹¤ì‹œ ë³´ê¸°
            </button>
          </div>
        </div>
      </div>
    )
  }
  
  // ë¬¸ì œ í’€ì´ í™”ë©´
  return (
    <div className="max-w-3xl mx-auto p-6">
      {/* í—¤ë” */}
      <div className="mb-6">
        <button
          onClick={onBack}
          className="inline-flex items-center gap-2 text-purple-600 hover:text-purple-700 mb-4"
        >
          <ArrowLeft className="w-4 h-4" />
          ì§€ë¬¸ìœ¼ë¡œ ëŒì•„ê°€ê¸°
        </button>
        
        <div className="bg-white rounded-xl border border-gray-200 p-4">
          <div className="flex items-center justify-between">
            <div>
              <h2 className="text-xl font-bold text-gray-900">
                {passage.title} - ë…í•´ ë¬¸ì œ
              </h2>
              <p className="text-sm text-gray-600 mt-1">
                ë¬¸ì œ {currentQuestionIndex + 1} / {questions.length}
              </p>
            </div>
            <span className="px-3 py-1 bg-purple-100 text-purple-700 rounded-full text-sm font-medium">
              {questionTypeNames[currentQuestion.question_type]}
            </span>
          </div>
          
          {/* ì§„í–‰ ë°” */}
          <div className="w-full bg-gray-200 rounded-full h-2 mt-4">
            <div
              className="bg-purple-600 h-2 rounded-full transition-all"
              style={{
                width: `${((currentQuestionIndex + 1) / questions.length) * 100}%`
              }}
            />
          </div>
        </div>
      </div>
      
      {/* ë¬¸ì œ */}
      <div className="bg-white rounded-xl border border-gray-200 p-6 mb-6">
        <h3 className="text-lg font-semibold text-gray-900 mb-4">
          {currentQuestion.question_text}
        </h3>
        
        <div className="space-y-3">
          {currentQuestion.options.map((option, index) => (
            <button
              key={index}
              onClick={() => handleAnswer(option)}
              className={`w-full p-4 text-left rounded-lg border-2 transition-all ${
                currentAnswer === option
                  ? 'border-purple-600 bg-purple-50'
                  : 'border-gray-200 hover:border-purple-300 hover:bg-purple-50'
              }`}
            >
              <span className="font-medium">
                {String.fromCharCode(65 + index)}. {option}
              </span>
            </button>
          ))}
        </div>
        
        {/* í•´ì„¤ ë³´ê¸° */}
        {currentAnswer && (
          <button
            onClick={() => setShowExplanation(!showExplanation)}
            className="mt-4 text-sm text-purple-600 hover:text-purple-700"
          >
            {showExplanation ? 'í•´ì„¤ ìˆ¨ê¸°ê¸°' : 'í•´ì„¤ ë³´ê¸°'}
          </button>
        )}
        
        {showExplanation && (
          <div className="mt-4 p-4 bg-blue-50 border border-blue-200 rounded-lg">
            <p className="text-sm text-blue-900">
              <strong>ì •ë‹µ:</strong> {currentQuestion.correct_answer}
            </p>
            <p className="text-sm text-blue-800 mt-2">
              {currentQuestion.explanation}
            </p>
          </div>
        )}
      </div>
      
      {/* ë„¤ë¹„ê²Œì´ì…˜ */}
      <div className="flex gap-3">
        <button
          onClick={handlePrev}
          disabled={currentQuestionIndex === 0}
          className="px-6 py-3 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed"
        >
          ì´ì „
        </button>
        <button
          onClick={handleNext}
          disabled={!currentAnswer}
          className="flex-1 px-6 py-3 bg-purple-600 text-white rounded-lg hover:bg-purple-700 disabled:opacity-50 disabled:cursor-not-allowed font-medium"
        >
          {isLastQuestion ? 'ì œì¶œí•˜ê¸°' : 'ë‹¤ìŒ'}
        </button>
      </div>
    </div>
  )
}
```

=== 4. API ì—”ë“œí¬ì¸íŠ¸ ì¶”ê°€ ===

1. app/api/reading/questions/[passageId]/route.ts:
```tsx
import { createRouteHandlerClient } from '@supabase/auth-helpers-nextjs'
import { cookies } from 'next/headers'
import { NextResponse } from 'next/server'

export async function GET(
  req: Request,
  { params }: { params: { passageId: string } }
) {
  try {
    const supabase = createRouteHandlerClient({ cookies })
    
    const { data, error } = await supabase
      .from('reading_questions')
      .select('*')
      .eq('passage_id', params.passageId)
      .order('created_at', { ascending: true })
    
    if (error) throw error
    
    return NextResponse.json({ questions: data })
  } catch (error) {
    console.error('Questions fetch error:', error)
    return NextResponse.json(
      { error: 'Failed to fetch questions' },
      { status: 500 }
    )
  }
}
```

2. app/api/reading/progress/route.ts:
```tsx
import { createRouteHandlerClient } from '@supabase/auth-helpers-nextjs'
import { cookies } from 'next/headers'
import { NextResponse } from 'next/server'

export async function POST(req: Request) {
  try {
    const supabase = createRouteHandlerClient({ cookies })
    
    const {
      data: { session },
    } = await supabase.auth.getSession()

    if (!session) {
      return NextResponse.json(
        { error: 'Unauthorized' },
        { status: 401 }
      )
    }

    const {
      passageId,
      answers,
      score,
      correctCount,
      totalCount,
      readingTime,
      wpm,
      completed
    } = await req.json()

    const { data, error } = await supabase
      .from('reading_progress')
      .insert({
        user_id: session.user.id,
        passage_id: passageId,
        answers: answers,
        score: score,
        correct_count: correctCount,
        total_count: totalCount,
        reading_time: readingTime,
        wpm: wpm,
        completed: completed
      })
      .select()
      .single()

    if (error) throw error

    return NextResponse.json({ success: true, data })
  } catch (error) {
    console.error('Progress save error:', error)
    return NextResponse.json(
      { error: 'Failed to save progress' },
      { status: 500 }
    )
  }
}
```

=== ì¶œë ¥ ìš”êµ¬ì‚¬í•­ ===

1. âœ… ëª¨ë“  ì§€ë¬¸ì— ë…í•´ ë¬¸ì œ 3-4ê°œ ì¶”ê°€
2. âœ… ì§€ë¬¸ í˜ì´ì§€ì— ClickableText ì¶”ê°€ (ë‹¨ì–´ í´ë¦­)
3. âœ… ë¬¸ë‹¨ë³„ í•´ì„ ë³´ê¸°/ìˆ¨ê¸°ê¸°
4. âœ… ë‹¨ì–´ì¥ ì €ì¥ ê¸°ëŠ¥ ì—°ë™
5. âœ… ë…í•´ ë¬¸ì œ ì»´í¬ë„ŒíŠ¸
6. âœ… 4ê°€ì§€ ë¬¸ì œ ìœ í˜• (ì£¼ì œ/ì„¸ë¶€/ì¶”ë¡ /ì–´íœ˜)
7. âœ… ë‹µì•ˆ ì„ íƒ UI
8. âœ… ì´ì „/ë‹¤ìŒ ë²„íŠ¼
9. âœ… í•´ì„¤ ë³´ê¸° ê¸°ëŠ¥
10. âœ… ìµœì¢… ì œì¶œ ë° ì±„ì 
11. âœ… ê²°ê³¼ í™”ë©´ (ì ìˆ˜, í†µê³„)
12. âœ… WPM ê³„ì‚°
13. âœ… ë¬¸ì œë³„ ì •ë‹µ/ì˜¤ë‹µ í‘œì‹œ
14. âœ… ì§„ë„ ì €ì¥ API
15. âœ… XP ìë™ ì ë¦½
16. âœ… ëª¨ë°”ì¼ ë°˜ì‘í˜•

ì™„ì„± í›„:
- Reading Phase 2 ì™„ë£Œ!
- ë‹¨ì–´ í´ë¦­ ê¸°ëŠ¥ ì¶”ê°€
- í•´ì„ ë³´ê¸° ê¸°ëŠ¥
- ë…í•´ ë¬¸ì œ ì‹œìŠ¤í…œ ì™„ì„±
- ë‚´ì¼ Phase 3 (í†µê³„/ê¸°ë¡) ì§„í–‰

í…ŒìŠ¤íŠ¸:
1. ì§€ë¬¸ì—ì„œ ë‹¨ì–´ í´ë¦­ â†’ ëœ» íŒì—…
2. í•´ì„ ë³´ê¸°/ìˆ¨ê¸°ê¸°
3. ë…í•´ ë¬¸ì œ í’€ê¸°
4. ë‹µì•ˆ ì„ íƒ
5. í•´ì„¤ ë³´ê¸°
6. ì œì¶œ í›„ ê²°ê³¼ í™•ì¸
7. WPM ê³„ì‚° í™•ì¸
8. ë‹¨ì–´ì¥ì— ì €ì¥ í™•ì¸

ì¤‘ìš”:
- Listeningì—ì„œ ë§Œë“  ClickableText ì¬ì‚¬ìš©
- ë‹¨ì–´ì¥ ì‹œìŠ¤í…œ ì—°ë™
- ì½ê¸° ì†ë„(WPM) ì¸¡ì •

ì§€ê¸ˆ ë°”ë¡œ ë§Œë“¤ì–´ì¤˜!
ì™„ì„±ë˜ë©´ ì•Œë ¤ì¤˜!
```

---

## ğŸ¯ **Phase 2 ì£¼ìš” ê¸°ëŠ¥**

### **1. ë‹¨ì–´ ê¸°ëŠ¥ (ìš”ì²­ì‚¬í•­!)**
```
âœ… ì§€ë¬¸ì— ClickableText ì¶”ê°€
âœ… ë‹¨ì–´ í´ë¦­ â†’ ëœ» íŒì—…
âœ… ë°œìŒ ë“£ê¸°
âœ… ë‹¨ì–´ì¥ ì €ì¥
âœ… Listeningê³¼ ë™ì¼í•œ ì‹œìŠ¤í…œ
```

### **2. í•´ì„ ê¸°ëŠ¥ (ìš”ì²­ì‚¬í•­!)**
```
âœ… ë¬¸ë‹¨ë³„ í•´ì„ ì œê³µ
âœ… í•´ì„ ë³´ê¸°/ìˆ¨ê¸°ê¸° í† ê¸€
âœ… ê¹”ë”í•œ UI
```

### **3. ë…í•´ ë¬¸ì œ (ì›ë˜ ê³„íš)**
```
âœ… 4ê°€ì§€ ìœ í˜•
âœ… ê°ê´€ì‹ 4ì§€ì„ ë‹¤
âœ… í•´ì„¤ ì œê³µ
âœ… ì ìˆ˜ ê³„ì‚°
âœ… WPM ì¸¡ì •